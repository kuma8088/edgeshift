name = "edgeshift-newsletter"
main = "src/index.ts"
compatibility_date = "2024-12-01"
workers_dev = false

# Production routes
[[routes]]
pattern = "edgeshift.tech/api/newsletter/*"
zone_name = "edgeshift.tech"

[vars]
ALLOWED_ORIGIN = "https://edgeshift.tech"
SENDER_EMAIL = "newsletter@mail.edgeshift.tech"
SENDER_NAME = "EdgeShift Newsletter"
SITE_URL = "https://edgeshift.tech"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "edgeshift-newsletter"
database_id = "4ca2faf7-7486-4a66-b153-278acfa10d17"

# Cron trigger for scheduled campaigns (every 15 minutes)
[triggers]
crons = ["*/15 * * * *"]
