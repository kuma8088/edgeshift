# Session Notes: Batch TB - ユーザーテスト計画

## 現在の状態

**フェーズ:** 要件定義・ドキュメント作成完了

**進捗:**
- ✅ superpowers:brainstorming で要件定義完了
- ✅ 実装仕様の確認（delay_days/delay_time の動作）
- ✅ テスト計画ドキュメント作成
- ✅ 日本語化完了
- ✅ コミット・プッシュ完了

**完了タスク:**
- TB-1: テストシナリオ作成（ドキュメント化）
- 実装確認: delay_days=0 は「JST 当日の指定時刻」（直後送信ではない）
- worktree 作成・セットアップ

**未完了タスク:**
- TB-2: 購読者視点でのフロー確認（テスト実施待ち）
- TB-3: 管理者視点での操作確認（テスト実施待ち）
- TB-5: フィードバック収集・改善（テスト実施待ち）
- mail-tester.com 評価（テスト実施待ち）

---

## 直近の問題・解決

**問題:** delay_days=0 の動作が不明確（直後送信？当日送信？）
**解決:** sequence-processor.ts を確認し、「JST 当日の指定時刻」であることを確認
- 登録直後に即時送信する機能は未実装
- MVP 追加開発要件として newsletter_system_mvp.md に記録済み

**問題:** テストシーケンスの設計
**解決:** 5 ステップ構成で delay_days/delay_time の動作を網羅的に確認
- ステップ 1-3: delay_days=0, delay_time で 09:00, 09:15, 09:30
- ステップ 4: delay_days=1, delay_time=NULL（デフォルト時刻）
- ステップ 5: delay_days=1, delay_time=14:00（個別指定）

---

## 次にやること

### 1. テスト実施（優先度：最高）
朝 08:00 JST に登録開始
- [ ] テストシーケンス作成（管理画面で）
- [ ] テストキャンペーン作成
- [ ] Contact List 作成・メンバー追加
- [ ] 埋め込みフォーム作成

### 2. メール受信確認
- [ ] ステップ 1-3 受信（09:00, 09:15, 09:30）
- [ ] クリックトラッキング確認
- [ ] 翌日ステップ 4-5 受信（09:00, 14:00）

### 3. mail-tester.com 評価
- [ ] テストメール送信
- [ ] スパムスコア確認（目標 8+/10）

### 4. TB-5 フィードバック
- [ ] 発見した問題を記録
- [ ] 軽微な問題（15分以内）は即時修正
- [ ] 大きな問題は別タスク化

---

## 判断メモ

### 設計判断

**テスト実施方法:**
- セルフテスト（自分で実施）
- 本番環境（edgeshift.tech）
- 自分の実メールアドレス使用

**モバイルテスト:**
- スコープ外（現状必要性を感じない）
- 必要になったら追加開発で対応

**TB-5 フィードバック方式:**
- ハイブリッド方式を採用
- 軽微（15分以内）→ 即時修正
- 大きい（15分超）→ 記録のみ、別タスク化

### 無視した指摘

なし

---

## ブロッカー

**現在なし**

---

## 作成したドキュメント

**テスト計画:**
```
docs/plans/2025-12-26-batch-tb-user-test-plan.md
```

**ブランチ:**
```
docs/batch-tb-user-test-plan
```

---

**Last Updated:** 2025-12-26
**Session:** Batch TB
**Model:** Opus 4.5
