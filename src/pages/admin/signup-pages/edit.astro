---
import AdminLayout from '../../../layouts/AdminLayout.astro';
import { SessionAuthProvider } from '../../../components/auth/SessionAuthProvider';
import { SignupPageEditForm } from '../../../components/admin/SignupPageEditForm';

const url = new URL(Astro.request.url);
const pageId = url.searchParams.get('id');

if (!pageId) {
  return Astro.redirect('/admin/signup-pages');
}
---

<AdminLayout title="ページを編集">
  <SessionAuthProvider client:load requiredRole={['owner', 'admin']}>
    <SignupPageEditForm client:load pageId={pageId} />
  </SessionAuthProvider>
</AdminLayout>
